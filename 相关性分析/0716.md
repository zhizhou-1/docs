# 上周问题

## 业扩相关性
- jaccard距离计算：没有出错，详见[Jaccard距离介绍](https://zhizhou-1.github.io/docs/#/Jaccard%E8%B7%9D%E7%A6%BB%E4%BB%8B%E7%BB%8D/Jaccard%E8%B7%9D%E7%A6%BB%E4%BB%8B%E7%BB%8D)，当0的数量太多的时候

若改成计算0的数量的话，会使相似度非常集中，相似度均值都达到90%

```python

intersection = sum(1 for x, y in zip(list1, list2) if x == y )
union = len(list1) + len(list2) - intersection
# 计算 Jaccard 相似度
jaccard_similarity = intersection / union
return jaccard_similarity

```

```python
similarities_df['相似度'].describe()
```

```
count    7007.000000
mean        0.904786
std         0.090699
min         0.515152
25%         0.869159
50%         0.941748
75%         0.980198
max         1.000000
Name: 相似度, dtype: float64
```


- 换了一种距离
## 阈值 0.00 - 0.20

在这个阈值下，以下是一些相关性的图示：

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.00_0.20/接电_暂停.png" alt="接电_暂停" style="width: 100%;">
    </div>
</div>

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.00_0.20/接电_暂停恢复.png" alt="接电_暂停恢复" style="width: 100%;">
    </div>
</div>

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.00_0.20/申请_暂停.png" alt="申请_暂停" style="width: 100%;">
    </div>
</div>

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.00_0.20/申请_暂停恢复.png" alt="申请_暂停恢复" style="width: 100%;">
    </div>
</div>

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.00_0.20/申请_增容.png" alt="申请_增容" style="width: 100%;">
    </div>
</div>


## 阈值 0.95 - 1.00

在这个阈值下，以下是一些相关性的图示：

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.95_1.00/接电_减容.png" alt="接电_减容" style="width: 100%;">
    </div>
</div>

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.95_1.00/接电_新装.png" alt="接电_新装" style="width: 100%;">
    </div>
</div>

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.95_1.00/接电_暂停.png" alt="接电_暂停" style="width: 100%;">
    </div>
</div>

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.95_1.00/接电_暂停恢复.png" alt="接电_暂停恢复" style="width: 100%;">
    </div>
</div>

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.95_1.00/接电_增容.png" alt="接电_增容" style="width: 100%;">
    </div>
</div>

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.95_1.00/申请_减容.png" alt="申请_减容" style="width: 100%;">
    </div>
</div>

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.95_1.00/申请_暂停.png" alt="申请_暂停" style="width: 100%;">
    </div>
</div>

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.95_1.00/申请_暂停恢复.png" alt="申请_暂停恢复" style="width: 100%;">
    </div>
</div>

<div style="display: flex; overflow-x: auto; white-space: nowrap;">
    <div style="min-width: 200px; margin-right: 10px;">
        <img src="output/0712-企业业扩相关性/sbd/threshold_0.95_1.00/申请_增容.png" alt="申请_增容" style="width: 100%;">
    </div>
</div>


## 用电相关性

- STL分解

  <img src="output/0714-企业用电相关性/度四分位划分企业的用电数据.png" alt="度四分位划分企业的用电数据" width="200">
*度四分位划分企业的用电数据*

<img src="output/0714-企业用电相关性/度top10和孤立点企业的用电数据.png" alt="度top10和孤立点企业的用电数据" width="200">
*度top10和孤立点企业的用电数据*

<img src="output/0714-企业用电相关性/均值用电量时序图.png" alt="均值用电量时序图" width="200">
*均值用电量时序图*

<img src="output/0714-企业用电相关性/Graph of Row Correlations for 23.专用设备制造业.jpg" alt="Graph of Row Correlations for 23.专用设备制造业" width="200">
*Graph of Row Correlations for 23.专用设备制造业*

<img src="output/0714-企业用电相关性/Graph_of_Row_Correlations_for_23.专用设备制造业.jpg" alt="Graph of Row Correlations for 23.专用设备制造业" width="200">
*Graph of Row Correlations for 23.专用设备制造业*

<img src="output/0714-企业用电相关性/STL_Decomposition_ID_353502253544949_in_23.专用设备制造业.jpg" alt="STL Decomposition ID 353502253544949 in 23.专用设备制造业" width="200">
*STL Decomposition ID 353502253544949 in 23.专用设备制造业*

<img src="output/0714-企业用电相关性/STL_Decomposition_ID_353503365202156_in_23.专用设备制造业.jpg" alt="STL Decomposition ID 353503365202156 in 23.专用设备制造业" width="200">
*STL Decomposition ID 353503365202156 in 23.专用设备制造业*

<img src="output/0714-企业用电相关性/STL_Decomposition_ID_353520200544817_in_23.专用设备制造业.jpg" alt="STL Decomposition ID 353520200544817 in 23.专用设备制造业" width="200">
*STL Decomposition ID 353520200544817 in 23.专用设备制造业*

<img src="output/0714-企业用电相关性/Trend_Component_of_STL_Decomposition_for_23.专用设备制造业.jpg" alt="Trend Component of STL Decomposition for 23.专用设备制造业" width="200">
*Trend Component of STL Decomposition for 23.专用设备制造业*

